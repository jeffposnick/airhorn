!function(){"use strict";var t=function(){var t,n,o=new(window.AudioContext||window.webkitAudioContext),e=this,s=function(t){t=t||function(){},1==!!n&&t(n);var e=new XMLHttpRequest;e.onload=function(){o.decodeAudioData(e.response,function(n){t(n)})},e.open("GET","sounds/airhorn.mp3"),e.responseType="arraybuffer",e.send()};this.start=function(n){var i=n.loop;s(function(n){t=o.createBufferSource(),t.connect(o.destination),t.buffer=n,t.onended=function(){e.stop()},t.start(0),t.loop=i,t.loopStart=.24,t.loopEnd=.34})},this.stop=function(){t.loop=!1,this.onstopped()},this.onstopped=function(){};var i=function(){s(function(t){n=t})};i()},n=function(n){var o=n.querySelector(".horn"),e=new t,s=function(t){return 1==!!t&&(t.preventDefault(),t.touches&&t.touches.length>1)?!1:void this.start({loop:!1})},i=function(t){1==!!t&&t.preventDefault(),this.stop()};this.start=function(t){o.classList.add("horning"),e.start(t),e.onstopped=function(){o.classList.remove("horning")},ga("send","event","horn","play")},this.stop=function(){o.classList.remove("horning"),e.stop()},o.addEventListener("mousedown",s),o.addEventListener("touchstart",s),document.documentElement.addEventListener("mouseup",i),document.documentElement.addEventListener("touchend",i)};window.addEventListener("load",function(){var t=document.getElementById("airhorn"),o=new n(t);"#instant"==location.hash&&o.start({loop:!1})})}();